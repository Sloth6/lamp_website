
group_bounding_box = (object3D) ->
  box = null
  object3D.traverse (obj3D) ->
    geometry = obj3D.geometry
    return if geometry == undefined
    geometry.computeBoundingBox()
    if box == null
      box = geometry.boundingBox
    else
      box.union(geometry.boundingBox)

  return box

center_group = (group, x = true, y = true, z = true) ->
  box = group_bounding_box(group)
  cx = (box.max.x + box.min.x)/2
  cy = (box.max.y + box.min.y)/2
  cz = (box.max.z + box.min.z)/2
  group.position.x -= cx if x
  group.position.y -= cy if y
  group.position.z -= cz if z
